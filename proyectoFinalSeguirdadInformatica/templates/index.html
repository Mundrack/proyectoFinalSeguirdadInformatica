{% extends "base.html" %}

{% block header %}Dashboard General{% endblock %}
{% block subheader %}Vista general de la postura de seguridad{% endblock %}

{% block content %}
<div class="grid-3">
    <div class="card hero-stat">
        <h3>{{ stats.total_activos }}</h3>
        <p>Total Activos</p>
    </div>
    <div class="card hero-stat" style="border-bottom: 4px solid #ef4444;">
        <h3>{{ stats.activos_criticos }}</h3>
        <p>Activos CrÃ­ticos</p>
    </div>
    <div class="card hero-stat" style="border-bottom: 4px solid #f59e0b;">
        <h3>{{ stats.riesgos_altos }}</h3>
        <p>Riesgos Altos/CrÃ­ticos</p>
    </div>
</div>

<div class="grid-2" style="margin-top: 1rem;">
    <div class="card">
        <h3 style="margin-top: 0;">ğŸ›¡ï¸ Cobertura de Tratamiento</h3>
        <div style="font-size: 2.5rem; font-weight: bold; color: var(--primary-color);">{{ stats.cumplimiento }}%</div>
        <div style="background: #eee; height: 10px; border-radius: 5px; margin-top: 5px;">
            <div
                style="background: var(--primary-color); height: 100%; border-radius: 5px; width: {{ stats.cumplimiento }}%;">
            </div>
        </div>
        <p style="font-size: 0.8rem; color: var(--text-muted); margin-top: 10px;">{{ stats.riesgos_mitigados }} de {{
            stats.total_riesgos }} riesgos con tratamiento definido.</p>
    </div>
    <div class="card">
        <h3>ğŸ¯ Acciones RÃ¡pidas</h3>
        <div style="display: flex; flex-direction: column; gap: 0.5rem;">
            <a href="/activos"><button style="width: 100%;">+ Registrar Activo</button></a>
            <a href="/evaluar"><button style="width: 100%; background: var(--secondary-color);">+ Evaluar
                    Riesgo</button></a>
        </div>
    </div>
</div>
{% endblock %}